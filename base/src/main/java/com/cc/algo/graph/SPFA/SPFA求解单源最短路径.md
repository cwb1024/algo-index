SPFA（Shortest Path Faster Algorithm）是一种用于求解单源最短路径的算法，它是Bellman-Ford算法的一种优化。SPFA算法的核心思想是利用队列来存储待更新的顶点，避免对所有顶点进行松弛操作，从而提高算法的效率。

要检测图中是否存在负环，可以在SPFA算法的基础上进行修改。具体步骤如下：

1.初始化距离数组dist为无穷大，起点的距离为0。

2.将起点加入队列。

3.对队列中的顶点进行松弛操作，更新其相邻顶点的距离。

4.如果某个顶点的距离被更新，并且它已经被加入过队列了，再次将其加入队列。

5.如果某个顶点被松弛了n次（n是顶点数），则说明存在负环。

---
在这个示例中，
- 我们首先定义了一个SPFA类，其中包含了一个检测负环的方法hasNegativeCycle。
- 在该方法中，我们使用SPFA算法对图进行遍历，并检测是否存在负环。
- 如果某个顶点被松弛了n次，则说明存在负环。